WEAKLIB_DIR ?= $(HOME)/weaklib
include $(WEAKLIB_DIR)/Distributions/Build/Makefile_Build
include $(WEAKLIB_DIR)/Distributions/Build/Makefile_WeakLib_ObjectFiles
include $(WEAKLIB_DIR)/Distributions/Build/Makefile_WeakLib_Dependencies
include $(WEAKLIB_DIR)/TableCreator/SharedModules/Makefile_SharedModules_Dependencies
include $(WEAKLIB_DIR)/TableCreator/SharedModules/Makefile_SharedModules_ObjectFiles
include $(WEAKLIB_DIR)/TableCreator/EOSSource/EquationsOfState/BaryonsPlusLeptons/CommonModules/Makefile_CommonModules_ObjectFiles
include $(WEAKLIB_DIR)/TableCreator/EOSSource/EquationsOfState/BaryonsPlusLeptons/CommonModules/Makefile_CommonModules_Dependencies

VPATH += \
$(WEAKLIB_DIR)/TableCreator/EOSSource/EquationsOfState/BaryonsPlusLeptons/CommonModules: \
$(WEAKLIB_DIR)/TableCreator/SharedModules: \
..

wlInversion = \
  $(WL_LIBRARY) \
  $(WL_EOSSOURCE) \
  $(SHAREDMODULES) \
  $(COMMON_MODS_OBJ)
  
all: wlEOSComposeInversionTest

wlEOSComposeInversionTest: \
	$(wlInversion) wlEOSComposeInversionTest.o
	$(FLINKER) $(FLAGS) -o wlEOSComposeInversionTest_$(MACHINE) \
	$(wlInversion) wlEOSComposeInversionTest.o \
	$(LIBRARIES)

clean:
	rm -f *.o *.mod *.ld

clobber: clean
	rm -f wlEOSComposeInversionTest_$(MACHINE)

wlEOSComposeInversionTest.o: \
  wlKindModule.o \
  wlEquationOfStateTableModule.o \
  wlIOModuleHDF.o \
  wlEOSIOModuleHDF.o \
  wlInterpolationModule.o \
  wlInterpolationUtilitiesModule.o \
  wlEOSComponentsCombinedInversionModule.o \
  wlLeptonEOSModule.o \
  wlElectronEOS.o \
  wlMuonEOS.o \
  wlHelmMuonIOModuleHDF.o \
  wlExtPhysicalConstantsModule.o \
  wlEOSComposeInversionTest.F90

