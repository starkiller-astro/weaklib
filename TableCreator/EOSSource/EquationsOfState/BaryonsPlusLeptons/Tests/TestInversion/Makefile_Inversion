WEAKLIB_DIR ?= $(HOME)/weaklib
include $(WEAKLIB_DIR)/Distributions/Build/Makefile_Build
include $(WEAKLIB_DIR)/Distributions/Build/Makefile_WeakLib_ObjectFiles
include $(WEAKLIB_DIR)/Distributions/Build/Makefile_WeakLib_Dependencies
include $(WEAKLIB_DIR)/TableCreator/SharedModules/Makefile_SharedModules_Dependencies
include $(WEAKLIB_DIR)/TableCreator/SharedModules/Makefile_SharedModules_ObjectFiles
include $(WEAKLIB_DIR)/TableCreator/EOSSource/EquationsOfState/BaryonsPlusLeptons/EosBaryLep/Makefile_EosBaryLep_ObjectFiles
include $(WEAKLIB_DIR)/TableCreator/EOSSource/EquationsOfState/BaryonsPlusLeptons/EosBaryLep/Makefile_EosBaryLep_Dependencies

VPATH += \
$(WEAKLIB_DIR)/TableCreator/EOSSource/EquationsOfState/BaryonsPlusLeptons/EosBaryLep: \
$(WEAKLIB_DIR)/TableCreator/SharedModules: \
..

wlInversion = \
  $(WL_LIBRARY) \
  $(WL_EOSSOURCE) \
  $(SHAREDMODULES) \
  $(COMMON_MODS_OBJ)
  
all: wlComposeInversionTest

wlComposeInversionTest: \
	$(wlInversion) wlComposeInversionTest.o
	$(FLINKER) $(FLAGS) -o wlComposeInversionTest_$(MACHINE) \
	$(wlInversion) wlComposeInversionTest.o \
	$(LIBRARIES)

clean:
	rm -f *.o *.mod *.ld

clobber: clean
	rm -f wlComposeInversionTest_$(MACHINE)

wlComposeInversionTest.o: \
  wlKindModule.o \
  wlEquationOfStateTableModule.o \
  wlIOModuleHDF.o \
  wlEOSIOModuleHDF.o \
  wlInterpolationModule.o \
  wlEOSInversionModule.o \
  wlLeptonEOSModule.o \
  wlElectronEOS.o \
  wlMuonEOS.o \
  wlHelmMuonIOModuleHDF.o \
  wlExtPhysicalConstantsModule.o \
  wlComposeInversionTest.F90
