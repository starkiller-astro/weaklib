include $(WEAKLIB_DIR)/TableCreator/Build/Makefile_Build

Weaklib_EOSTableCreator = \
  $(WL_LIBRARY) \
  $(WL_EOSSOURCE) \
  wlCompOSEInterface.o \
  $(WL_EOSSOURCE_SPLIT) \
	$(WL_EOSSOURCE_4D)
  
all: wlCreateEOSTable wlCreate4DEOSTable wlCreate3DEOSTable
 
wlCreateEOSTable: \
	$(Weaklib_EOSTableCreator) wlCreateEquationOfStateTable.o
	$(FLINKER) $(FLAGS) -o wlCreateEOSTable_$(MACHINE) \
	$(Weaklib_EOSTableCreator) wlCreateEquationOfStateTable.o \
	$(LIBRARIES)

wlCreate4DEOSTable: \
	$(Weaklib_EOSTableCreator) wlCreate4DEquationOfStateTable.o
	$(FLINKER) $(FLAGS) -o wlCreate4DEOSTable_$(MACHINE) \
	$(Weaklib_EOSTableCreator) wlCreate4DEquationOfStateTable.o \
	$(LIBRARIES)

wlCreate3DEOSTable: \
	$(Weaklib_EOSTableCreator) wlCreate3DEquationOfStateTable.o
	$(FLINKER) $(FLAGS) -o wlCreate3DEOSTable_$(MACHINE) \
	$(Weaklib_EOSTableCreator) wlCreate3DEquationOfStateTable.o \
	$(LIBRARIES)

wlCompOSEInterface.o: \
  wlKindModule.o \
  wlEosConstantsModule.o \
  wlIOModuleHDF.o
  
wlCreateEquationOfStateTable.o: \
  wlKindModule.o \
  wlGridModule.o \
  wlEquationOfStateTableModule.o \
  wlIOModuleHDF.o \
  wlEOSIOModuleHDF.o \
  wlCompOSEInterface.o \
  wlHelmMuonIOModuleHDF.o \
  wlLeptonEOSModule.o \
	wlEosConstantsModule.o

wlCreate4DEquationOfStateTable.o: \
  wlKindModule.o \
  wlGridModule.o \
  wlEquationOfStateTableModule.o \
  wlIOModuleHDF.o \
  wlEOSIOModuleHDF.o \
	wlInterpolationUtilitiesModule.o \
  wlCompOSEInterface.o \
  wlHelmMuonIOModuleHDF.o \
  wlLeptonEOSModule.o \
	wlElectronPhotonEOS.o \
	wlMuonEOS.o \
  wlEosConstantsModule.o \
	wlSoundSpeedModule.o

wlCreate3DEquationOfStateTable.o: \
  wlKindModule.o \
  wlGridModule.o \
  wlEquationOfStateTableModule.o \
  wlIOModuleHDF.o \
  wlEOSIOModuleHDF.o \
	wlInterpolationUtilitiesModule.o \
  wlCompOSEInterface.o \
  wlHelmMuonIOModuleHDF.o \
  wlLeptonEOSModule.o \
	wlElectronPhotonEOS.o \
	wlMuonEOS.o \
  wlEosConstantsModule.o \
	wlSoundSpeedModule.o

clean:
	rm -f *.o *.mod *.ld

clobber: clean
	rm wlCreateEOSTable_$(MACHINE)
